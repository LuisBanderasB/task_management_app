<div class="container mt-5">
  <div class="d-flex flex-direction-column gap-4">
    <h2><%= @board.name %></h2>
    <button type="button" class="btn btn-warning rounded-1 dropdown-toggle" style="height: 36px;" data-bs-toggle="dropdown" aria-expanded="false">
      Config
    </button>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#edit-board-modal">Edit board</a></li>
      <li>
        <%= link_to "Delete", board_path(@board), class: "dropdown-item text-danger", method: :delete, data: {confirm: "Are you sure?"} %>
      </li>
    </ul>
  </div>

  <div class="container mt-4">
    <div class="row row-cols-auto d-flex gap-4">
      <% @lists.each do |list| %>
        <div class="bg-light rounded" style="width: 18rem;">
          <h4 class="mt-3 px-2"><%= list.name %></h4>
          <ul class="unorder_list mt-3 list list-group d-flex gap-2" style="min-height: 20px;" id=<%= list.id%>>
            <% list.tasks.each do |task| %>
              <li class="list-group-item rounded-1 border-0 shadow-sm" id=<%= task.id %>>
                <%= task.title %>
              </li>
            <% end %>
          </ul>
          <div class="hidden my-3">
            <a href="#" id="show" class="add rounded-1 p-2 text-decoration-none text-muted">
              Add a new task
            </a>
          </div>
          <div class="hidden my-3" style="display: none;">
            <%= form_with scope: :task, url: tasks_path, local: true do |f| %>
              <form>
                <div class="mb-2">
                  <%= f.text_field :title, placeholder: "Introduce a title for this task", class:"rounded-1 form-control h-16"%>
                </div>
                <div>
                  <%= f.text_field :list_id, type: "hidden", value: list.id %>
                </div>
                <%= f.submit 'submit', class: 'btn btn-primary rounded-1'%> 
                <a href="#" id="show" class='btn btn-close rounded-1'>
                </a>
              </form>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>

<div class="modal fade" id="edit-board-modal">
  <%= render 'boards/edit_modal' %>
</div>

<%= javascript_pack_tag 'dragula' %>
<%= javascript_pack_tag 'custom' %>